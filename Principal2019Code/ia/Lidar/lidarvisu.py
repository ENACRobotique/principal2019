#!/usr/bin/python2.6
 
# -*-coding:Latin-1 -*

from tkinter import *
import math


DATA = [0, 44, 33, 32, 32, 33, 33, 33, 33, 30, 30, 30, 30, 30, 30, 32, 30, 29, 30, 31, 30, 29, 30, 30, 30, 33, 34, 34, 34, 34, 34, 32, 31, 30, 31, 31, 32, 35, 35, 35, 35, 31, 30, 29, 27, 25, 25, 25, 26, 31, 31, 30, 30, 30, 30, 34, 34, 33, 33, 28, 27, 27, 27, 28, 28, 32, 33, 33, 33, 33, 46, 49, 49, 49, 40, 34, 34, 33, 33, 29, 26, 25, 25, 25, 24, 23, 24, 25, 25, 28, 30, 30, 30, 30, 34, 34, 34, 27, 29, 29, 27, 29, 29, 26, 23, 23, 22, 22, 24, 24, 25, 27, 28, 28, 29, 29, 29, 29, 29, 30, 30, 30, 30, 31, 35, 36, 43, 43, 49, 201, 274, 274, 341, 445, 65533, 65533, 65533, 65533, 65533, 1892, 1881, 1872, 1858, 1857, 1857, 1858, 65533, 65533, 65533, 65533, 65533, 65533, 65533, 65533, 1593, 1593, 1593, 1588, 1590, 1588, 1588, 1589, 1590, 1602, 1602, 1602, 639, 625, 625, 618, 618, 614, 588, 579, 578, 576, 577, 577, 577, 577, 577, 579, 585, 586, 592, 592, 592, 574, 539, 538, 538, 538, 546, 563, 573, 578, 578, 579, 579, 583, 583, 583, 524, 462, 416, 365, 241, 178, 159, 155, 155, 147, 141, 141, 141, 141, 137, 137, 135, 130, 130, 130, 130, 129, 129, 128, 126, 126, 124, 122, 119, 122, 121, 119, 119, 121, 121, 122, 122, 122, 119, 118, 118, 117, 116, 116, 116, 116, 116, 115, 115, 115, 113, 111, 107, 105, 105, 105, 106, 106, 106, 101, 101, 98, 98, 98, 101, 102, 102, 102, 102, 117, 181, 298, 359, 406, 447, 487, 503, 508, 516, 517, 517, 517, 518, 518, 519, 519, 518, 513, 513, 508, 507, 504, 502, 501, 496, 496, 490, 483, 482, 476, 473, 470, 470, 470, 468, 468, 464, 460, 459, 456, 455, 445, 443, 443, 443, 442, 433, 433, 429, 433, 438, 438, 436, 436, 436, 436, 436, 444, 444, 444, 441, 441, 441, 437, 437, 437, 434, 434, 436, 436, 436, 436, 437, 441, 448, 448, 472, 534, 562, 562, 562, 560, 560, 560, 567, 603, 669, 682, 682, 685, 685, 685, 706, 706, 710, 710, 703, 685, 678, 677, 639, 639, 639, 670, 692, 929, 954, 993, 993, 993, 929, 854, 790, 773, 692, 692, 686, 681, 681, 676, 676, 676, 714, 714, 714, 691, 690, 683, 672, 628, 620, 619, 617, 617, 608, 604, 604, 608, 602, 614, 624, 624, 628, 628, 648, 628, 628, 593, 549, 528, 388, 378, 367, 366, 191, 138, 120, 114, 110, 103, 99, 92, 92, 92, 92, 92, 92, 92, 92, 89, 89, 90, 90, 90, 93, 93, 91, 91, 90, 85, 79, 79, 74, 74, 71, 66, 66, 66, 66, 71, 71, 72, 72, 67, 67, 70, 70, 75, 120, 212, 283, 339, 372, 384, 391, 405, 431, 436, 448, 554, 600, 616, 617, 617, 617, 598, 483, 451, 426, 408, 406, 405, 400, 397, 396, 390, 388, 388, 390, 393, 393, 393, 385, 385, 382, 382, 382, 581, 584, 584, 581, 581, 580, 577, 576, 573, 565, 564, 556, 515, 468, 467, 467, 467, 533, 537, 553, 553, 553, 559, 559, 560, 560, 560, 560, 534, 534, 534, 552]
def distance2xy(d,i,H,W,SCALE) :
	# d la distance renvoyer par le lidar
	# i sa position dans la liste (pour obtenir l'angle) 0.5 degrés * i
	# H et W les dimensions du canvas
	# scale le facteur d'échelle (mm/pixel)
	mid = (W/2,H/2)
	d /= SCALE
	angle = math.radians(-45+0.5*i)
	x = int(W/2+d*math.cos(angle))
	y = int(H/2-d*math.sin(angle))#"-" car l'axe y est orienté vers le bas dans TKinter
	return (x,y)





master = Tk()
	H = 1000
	W = 1000
	SCALE = 12 #1 pixel = 12 mm

w = Canvas(master, width=1000, height=1000)
w.pack()

w.create_polygon([(0, H), (W, H), (W/2, H/2)], fill="black",stipple="gray50")

POINTS = []
for i in range(len(DATA)) : 
	POINTS.append(distance2xy(DATA[i],i,H,W,SCALE))

Visu = w.create_polygon(POINTS,fill="green")

mainloop()

